{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ProductUpdateComponent = class ProductUpdateComponent {\n  constructor(_productService, _router, _formBuilder, _route, _product) {\n    this._productService = _productService;\n    this._router = _router;\n    this._formBuilder = _formBuilder;\n    this._route = _route;\n    this._product = _product;\n  }\n  ngOnInit() {\n    this._createForm(this._product);\n    this._updateProduct();\n  }\n  onSubmit() {\n    this._productService.update(this.form.value).subscribe(() => {\n      this._router.navigate([\"/products\"]);\n    });\n  }\n  cancel() {\n    this._router.navigate(['/products']);\n  }\n  /*************** METHODS PRIVATE ***************/\n  _createForm(product) {\n    this._product = product;\n    this.form = this._formBuilder.group({\n      name: [this._product.name],\n      price: [this._product.price]\n    });\n  }\n  _updateProduct() {\n    let id = this._route.snapshot.paramMap.get(\"id\");\n    this._productService.readById(Number(id)).subscribe(product => {\n      this._product = product;\n      console.log(product);\n      this._createForm(this._product);\n    });\n  }\n};\nProductUpdateComponent = __decorate([Component({\n  selector: 'app-product-update',\n  templateUrl: './product-update.component.html',\n  styleUrls: ['./product-update.component.css']\n})], ProductUpdateComponent);","map":{"version":3,"names":["Component","ProductUpdateComponent","constructor","_productService","_router","_formBuilder","_route","_product","ngOnInit","_createForm","_updateProduct","onSubmit","update","form","value","subscribe","navigate","cancel","product","group","name","price","id","snapshot","paramMap","get","readById","Number","console","log","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/developer/Workspace/angular-crud/src/app/components/products/product-update/product-update.component.ts"],"sourcesContent":["import { Product } from './../product.model';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { ProductService } from '../product.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-product-update',\n  templateUrl: './product-update.component.html',\n  styleUrls: ['./product-update.component.css']\n})\nexport class ProductUpdateComponent implements OnInit {\n\n  public form!: FormGroup;\n  \n  constructor(\n    private _productService: ProductService,\n    private _router: Router,\n    private _formBuilder: FormBuilder,\n    private _route: ActivatedRoute,\n    private _product: Product\n  ) {\n\n  }\n  ngOnInit(): void {\n    this._createForm(this._product)\n    this._updateProduct();\n  }\n\n  public onSubmit(): void {\n    this._productService.update(this.form.value).subscribe(() => {\n      this._router.navigate([\"/products\"])\n    })\n  }\n  public cancel(): void {\n    this._router.navigate(['/products'])\n  }\n  \n  /*************** METHODS PRIVATE ***************/\n\n  private _createForm(product: Product): void {\n    this._product = product\n    this.form = this._formBuilder.group({\n      name: [this._product.name],\n      price: [this._product.price]\n    })\n  }\n\n  private _updateProduct(): void {\n    let id = this._route.snapshot.paramMap.get(\"id\")\n    this._productService.readById(Number(id)).subscribe(product => {\n      this._product = product\n      console.log(product)\n      this._createForm(this._product)\n\n    });\n  }\n}"],"mappings":";AACA,SAASA,SAAS,QAAuB,eAAe;AAUjD,WAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAIjCC,YACUC,eAA+B,EAC/BC,OAAe,EACfC,YAAyB,EACzBC,MAAsB,EACtBC,QAAiB;IAJjB,KAAAJ,eAAe,GAAfA,eAAe;IACf,KAAAC,OAAO,GAAPA,OAAO;IACP,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,QAAQ,GAARA,QAAQ;EAGlB;EACAC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,CAAC,IAAI,CAACF,QAAQ,CAAC;IAC/B,IAAI,CAACG,cAAc,EAAE;EACvB;EAEOC,QAAQA,CAAA;IACb,IAAI,CAACR,eAAe,CAACS,MAAM,CAAC,IAAI,CAACC,IAAI,CAACC,KAAK,CAAC,CAACC,SAAS,CAAC,MAAK;MAC1D,IAAI,CAACX,OAAO,CAACY,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;IACtC,CAAC,CAAC;EACJ;EACOC,MAAMA,CAAA;IACX,IAAI,CAACb,OAAO,CAACY,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;EACtC;EAEA;EAEQP,WAAWA,CAACS,OAAgB;IAClC,IAAI,CAACX,QAAQ,GAAGW,OAAO;IACvB,IAAI,CAACL,IAAI,GAAG,IAAI,CAACR,YAAY,CAACc,KAAK,CAAC;MAClCC,IAAI,EAAE,CAAC,IAAI,CAACb,QAAQ,CAACa,IAAI,CAAC;MAC1BC,KAAK,EAAE,CAAC,IAAI,CAACd,QAAQ,CAACc,KAAK;KAC5B,CAAC;EACJ;EAEQX,cAAcA,CAAA;IACpB,IAAIY,EAAE,GAAG,IAAI,CAAChB,MAAM,CAACiB,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IAChD,IAAI,CAACtB,eAAe,CAACuB,QAAQ,CAACC,MAAM,CAACL,EAAE,CAAC,CAAC,CAACP,SAAS,CAACG,OAAO,IAAG;MAC5D,IAAI,CAACX,QAAQ,GAAGW,OAAO;MACvBU,OAAO,CAACC,GAAG,CAACX,OAAO,CAAC;MACpB,IAAI,CAACT,WAAW,CAAC,IAAI,CAACF,QAAQ,CAAC;IAEjC,CAAC,CAAC;EACJ;CACD;AA9CYN,sBAAsB,GAAA6B,UAAA,EALlC9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACWhC,sBAAsB,CA8ClC"},"metadata":{},"sourceType":"module","externalDependencies":[]}